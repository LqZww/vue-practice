<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>自定义指令</title>
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <h2>自定义指令的基本用法</h2>
    和组件类似分全局注册和局部注册，区别就是把component换成了derective
    <h2>钩子函数</h2>
    指令定义函数提供了几个钩子函数（可选）:<br>
    bind:只调用一次，指令第一次绑定到元素时调用，用这个钩子函数可以定义一个在绑定时执行一次的初始化动作<br>
    inserted: 被绑定元素插入父节点时调用（父节点存在即可调用，不必存在于document中）<br>
    update: 被绑定元素所在的模板更新时调用，而不论绑定值是否变化。通过比较更新前后的绑定值，可以忽略不必要的模板更新（详细的钩子函数参数见下）<br>
    componentUpdated: 被绑定元素所在模板完成一次更新周期时调用<br>
    unbind:只调用一次，指令与元素解绑时调用。
    <h2>钩子函数的参数有：</h2>
    <ul>
        <li>el:指令所绑定的元素，可以用来直接操作DOM</li>
        <li>
            binding:一个对象，包含以下属性：
            <ul>
                <li>name:指令名，不包括v­-前缀</li>
                <li>value:指令的绑定值，例如：v-­my-­directive="1+1",value的值是2</li>
                <li>oldValue:指令绑定的前一个值，仅在update和componentUpdated钩子中可用。无论值是否改变都可用。</li>
                <li>expression:绑定值的字符串形式。例如 v-­my-­directive="1+1"，expression的值是"1+1"</li>
                <li>arg: 传给指令的参数。例如v-­my-­directive:foo，arg的值是"foo"</li>
                <li>modifiers:一个包含修饰符的对象。例如：v­-my-­directive.foo.bar, 修饰符对象,modifiers的值是{foo:true,bar:true}
                </li>
            </ul>
        </li>
        <li>vnode:Vue编译生成的虚拟节点</li>
        <li>oldVnode:上一个虚拟节点，仅在update和componentUpdated钩子中可用</li>
    </ul>

    <div id="app">
        获取焦点：<input type="text" v-focus>
        <br>
        未获取焦点：<input type="text">
        <hr>
        <div v-zww:lq.a.b.c="obq"></div>

    </div>

    <script src=" https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="./main.js"></script>
</body>

</html>